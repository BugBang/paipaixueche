package com.session.dgjp.sign;

import com.session.common.BaseFragment;
import com.session.dgjp.R;

import android.graphics.Color;
import android.graphics.drawable.Drawable;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.LinearLayout;
import android.widget.TextView;

public class SignSchoolFragment extends BaseFragment{

	private Drawable tvSelect;
	private Drawable tvNormal;
	private TextView[] mTvItem;
	private TextView mTvAll,mTvDistance,mTvTuition,mTvFilters,mTvCredit,mTvPassing;
	private LinearLayout mLlfilters;
    private int currentPosition;
    private boolean isShowFilter;
//    private String currentInterface = "newest";
	
    public static SignSchoolFragment newInstance() {
        return new SignSchoolFragment();
    }
	
	@Override
	protected int getContentRes() {
		return R.layout.sign_school_fragment;
	}

	@Override
	protected void init(Bundle savedInstanceState) {
		tvSelect = getResources().getDrawable(R.drawable.triangle_select);
		tvSelect.setBounds(0, 0, tvSelect.getMinimumWidth(), tvSelect.getMinimumHeight());
		
		tvNormal = getResources().getDrawable(R.drawable.triangle_normal);
		tvNormal.setBounds(0, 0, tvNormal.getMinimumWidth(), tvNormal.getMinimumHeight());

		mTvAll = (TextView) view.findViewById(R.id.tv_all);
		mTvDistance = (TextView) view.findViewById(R.id.tv_distance);
		mTvTuition = (TextView) view.findViewById(R.id.tv_tuition);
		mTvFilters = (TextView) view.findViewById(R.id.tv_filters);
		mTvCredit = (TextView) view.findViewById(R.id.tv_credit);
		mTvPassing = (TextView) view.findViewById(R.id.tv_passing);
		mLlfilters = (LinearLayout) view.findViewById(R.id.ll_filters);
		mTvItem = new TextView[]{
				mTvAll,
				mTvDistance,
				mTvTuition,
				mTvFilters,
				mTvCredit,
				mTvPassing
        };
		
		mTvAll.setOnClickListener(this);
		mTvDistance.setOnClickListener(this);
		mTvTuition.setOnClickListener(this);
		mTvFilters.setOnClickListener(this);
		mTvCredit.setOnClickListener(this);
		mTvPassing.setOnClickListener(this);
	}

	@Override
	public void onClick(View v) {
		switch (v.getId()) {
		case R.id.tv_all:
			currentPosition = 0;
			setItemState(currentPosition);
			break;
		case R.id.tv_distance:
			currentPosition = 1;
			setItemState(currentPosition);
			break;
		case R.id.tv_tuition:
			currentPosition = 2;
			setItemState(currentPosition);
			break;
		case R.id.tv_filters:
			currentPosition = 3;
			if (!isShowFilter) {
				mLlfilters.setVisibility(View.VISIBLE);
			}
			setItemState(currentPosition);
			break;
		case R.id.tv_credit:
			currentPosition = 4;
			setItemState(currentPosition);
			break;
		case R.id.tv_passing:
			currentPosition = 5;
			setItemState(currentPosition);
			break;
		}
	}
    private void setItemState(int position){
        for (int i = 0; i<mTvItem.length;i++){
            mTvItem[i].setTextColor(Color.parseColor("#666666"));
            mTvItem[i].setCompoundDrawables(null,null,tvNormal,null);
        }
        mTvItem[position].setTextColor(Color.parseColor("#ff4848"));
        mTvItem[position].setCompoundDrawables(null,null,tvSelect,null);
    }
}
